<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title data-i18n="title">Calculadora de Ritmos de Carrera</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet" />
  <style>
    :root {
      --primary: #e53935;  /* rojo corazón */
      --primary-dark: #c62828;
      font-family: "Poppins", system-ui, sans-serif;
    }
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      background: #000;
      color: #eee;
      padding: 3rem 1rem 4rem;
      gap: 1.5rem;
      position: relative;
    }

    /* ---------- Selector de idioma ---------- */
    .lang-switch {
      position: absolute;
      top: 1rem;
      right: 1rem;
      display: flex;
      gap: 0.5rem;
      z-index: 10;
    }
    .lang-btn {
      background: none;
      border: none;
      cursor: pointer;
      padding: 0;
      line-height: 0;
    }
    .lang-btn img {
      display: block;
      width: 28px;
      height: 20px;
      border-radius: 3px;
      box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.6);
      transition: transform 0.1s;
    }
    .lang-btn:hover img {
      transform: scale(1.1);
    }

    /* ---------- Títulos ---------- */
    h1 {
      margin: 0;
      font-size: 2rem;
      color: var(--primary);
      text-align: center;
      font-weight: 600;
    }
    h2 {
      margin: 2.75rem 0 0.25rem;
      font-size: 1.4rem;
      color: var(--primary);
      text-align: center;
      font-weight: 600;
    }
    .subtitle {
      margin: 0;
      text-align: center;
      max-width: 480px;
      font-size: 0.95rem;
      color: #fff;
    }

    /* ---------- Tarjetas ---------- */
    .card {
      background: #fff;
      padding: 2rem;
      border-radius: 1rem;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
      width: min(90%, 420px);
      display: grid;
      gap: 1rem;
      border-top: 6px solid var(--primary);
      color: #222;
    }
    .predictor { margin-top: 0.25rem; }

    label {
      display: flex;
      flex-direction: column;
      font-weight: 600;
      font-size: 0.9rem;
    }
    .label-text { white-space: nowrap; }

    input, select {
      margin-top: 0.25rem;
      padding: 0.55rem 0.8rem;
      font-size: 1rem;
      border: 1px solid #d0d0d0;
      border-radius: 0.5rem;
      font-family: inherit;
      transition: border-color 0.2s, box-shadow 0.2s;
    }
    input:focus, select:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 2px rgba(229, 57, 53, 0.5);
    }

    .btn {
      align-self: center;
      background: var(--primary);
      color: #fff;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 0.5rem;
      font-size: 1rem;
      cursor: pointer;
      font-weight: 600;
      transition: background 0.2s, transform 0.1s;
    }
    .btn:hover { background: var(--primary-dark); }
    .btn:active { transform: scale(0.97); }

    #predictedTime, #predictedPace {
      text-align: center;
      font-weight: 600;
      font-size: 1.05rem;
      margin-top: 0.4rem;
      color: #333;
    }
  </style>
</head>
<body>
  <!-- Selector de idioma -->
  <div class="lang-switch">
    <button class="lang-btn" data-lang="es" aria-label="Español"><img src="https://flagcdn.com/24x18/es.png" alt="ES" /></button>
    <button class="lang-btn" data-lang="it" aria-label="Italiano"><img src="https://flagcdn.com/24x18/it.png" alt="IT" /></button>
    <button class="lang-btn" data-lang="en" aria-label="English"><img src="https://flagcdn.com/24x18/gb.png" alt="EN" /></button>
  </div>

  <h1 data-i18n="mainTitle">Calculadora de Ritmos de Carrera</h1>
  <p class="subtitle" data-i18n="subtitle">
    Ingresa <strong>solo uno</strong> de los tres campos (Distancia, Tiempo o Pace) y los otros dos se completarán automáticamente.<br />
    Si lo prefieres, elige una distancia típica en el desplegable.
  </p>

  <!-- Calculadora principal -->
  <div class="card calculator">
    <label>
      <span class="label-text" data-i18n="distanceLabel">Distancia (<span id="distanceUnit">km</span>)</span>
      <input type="number" id="distance" step="0.001" value="10" />
    </label>

    <label>
      <span data-i18n="typicalDistanceLabel">Distancia típica</span>
      <select id="distancePreset">
        <option value="">-- Selecciona --</option>
        <option value="42.195">Maratón (42.195 km)</option>
        <option value="21.0975">Medio Maratón (21.0975 km)</option>
        <option value="15">15 km</option>
        <option value="12">12 km</option>
        <option value="10">10 km</option>
        <option value="5">5 km</option>
      </select>
    </label>

    <label>
      <span data-i18n="timeLabel">Tiempo (HH:MM:ss)</span>
      <input type="text" id="time" value="01:00:00" pattern="\d{1,2}:\d{2}:\d{2}" />
    </label>

    <label>
      <span class="label-text" data-i18n="paceLabel">Pace (min/<span id="paceUnit">km</span>)</span>
      <input type="text" id="pace" value="06:00" pattern="\d{1,2}:\d{2}" />
    </label>

    <button id="unitToggle" class="btn" data-i18n="unitToggleKmToMi">Cambiar a Millas</button>
  </div>

  <!-- Sección de predicción -->
  <h2 data-i18n="predictorTitle">Predicción de Tiempo para tu Próxima Carrera</h2>
  <div class="card predictor">
    <label>
      <span data-i18n="recentDistLabel">Distancia de tu última carrera</span>
      <select id="recentDist">
        <option value="">-- Selecciona --</option>
        <option value="5">5 km</option>
        <option value="10">10 km</option>
        <option value="21.0975">Medio Maratón (21.0975 km)</option>
        <option value="42.195">Maratón (42.195 km)</option>
      </select>
    </label>

    <label>
      <span data-i18n="recentTimeLabel">Tiempo de tu última carrera (HH:MM:ss)</span>
      <input type="text" id="recentTime" placeholder="00:50:00" pattern="\d{1,2}:\d{2}:\d{2}" />
    </label>

    <label>
      <span data-i18n
